<!-- Search Overlay Component -->
<div id="search-overlay" class="c-search-overlay" aria-hidden="true" data-tech-theme="default" role="dialog" aria-modal="true" aria-label="Search">
  <div class="c-search-overlay__container">
    <div class="c-search-overlay__header">
      <h2 class="c-search-overlay__title">Search</h2>
      <button class="c-search-overlay__theme-toggle" aria-label="Toggle theme" tabindex="0">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M12 3v1m0 16v1m8.66-13.66l-.71.71M4.05 19.95l-.71.71M21 12h-1M4 12H3m16.66 5.66l-.71-.71M4.05 4.05l-.71-.71" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
      </button>
      <button class="c-search-overlay__close" aria-label="Close search" tabindex="0">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
      </button>
      <button class="c-search-overlay__voice-toggle" aria-label="Voice search" tabindex="0">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M12 18v2m0 0c-3.31 0-6-2.69-6-6v-2m6 8c3.31 0 6-2.69 6-6v-2m-6 8v-2m0-6a2 2 0 0 0 2-2V7a2 2 0 1 0-4 0v3a2 2 0 0 0 2 2z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
      </button>
    </div>
    <form class="c-search-overlay__form" action="/search/" method="get" role="search" autocomplete="off">
      <div class="c-search-overlay__input-group">
        <input 
          type="text" 
          name="q" 
          class="c-search-overlay__input" 
          placeholder="Enter search query..." 
          aria-label="Search terms"
          aria-expanded="false"
          aria-controls="search-suggestions"
          aria-activedescendant=""
          role="combobox"
          aria-autocomplete="list"
        >
        <select class="c-search-overlay__filter" aria-label="Filter results">
          <option value="all">All</option>
          <option value="articles">Articles</option>
          <option value="docs">Docs</option>
          <option value="news">News</option>
        </select>
        <button type="submit" class="c-search-overlay__submit" aria-label="Submit search">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M21 21L16.65 16.65M19 11C19 15.4183 15.4183 19 11 19C6.58172 19 3 15.4183 3 11C3 6.58172 6.58172 3 11 3C15.4183 3 19 6.58172 19 11Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </button>
      </div>
      <div class="c-search-overlay__spinner" aria-hidden="true" style="display:none;"><span class="spinner"></span></div>
      <div id="search-suggestions" class="c-search-overlay__suggestions" role="listbox" aria-label="Search suggestions"></div>
      <div id="search-results" class="c-search-overlay__results" role="listbox" aria-label="Live search results"></div>
    </form>
    <div class="c-search-overlay__recent" aria-live="polite">
      <h3 class="c-search-overlay__recent-title">Recent Searches</h3>
      <ul class="c-search-overlay__recent-list" role="list"></ul>
      <h3 class="c-search-overlay__recent-title">Popular Searches</h3>
      <ul class="c-search-overlay__popular-list" role="list"></ul>
    </div>
    <div class="c-search-overlay__bookmarks" aria-live="polite">
      <h3 class="c-search-overlay__recent-title">Bookmarked Results</h3>
      <ul class="c-search-overlay__bookmarks-list" role="list"></ul>
    </div>
    <div class="c-search-overlay__tips">
      <p>Press <kbd>ESC</kbd> to close, <kbd>↑</kbd><kbd>↓</kbd> to navigate, or <kbd>Enter</kbd> to search</p>
    </div>
    <div id="search-aria-live" class="visually-hidden" aria-live="polite" aria-atomic="true"></div>
  </div>
</div>

<!-- Initialize search overlay -->
<script>
  document.addEventListener('DOMContentLoaded', () => {
    console.log('Search overlay initialization started');
    
    // Check if required classes are available
    console.log('SearchOverlayTheme available:', typeof SearchOverlayTheme !== 'undefined');
    console.log('SearchOverlay available:', typeof SearchOverlay !== 'undefined');
    
    // Initialize search overlay components
    if (typeof SearchOverlayTheme !== 'undefined') {
      console.log('Initializing SearchOverlayTheme');
      new SearchOverlayTheme();
    }
    
    if (typeof SearchOverlay !== 'undefined') {
      console.log('Initializing SearchOverlay');
      new SearchOverlay();
    }
  });
</script>
