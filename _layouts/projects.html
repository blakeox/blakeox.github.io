---
layout: default
---

<section class="projects-list container">
  <h1>{{ page.title | replace: '&', '&amp;' }}</h1>

  <!-- Filtering Dropdown -->
  <div class="filter-dropdown-container">
    <label for="filter-dropdown">Filter projects:</label>
    {% comment %}
      Join all tags using commas so multi-word tags are preserved.
    {% endcomment %}
    {% assign all_tags = site.projects | map: "tags" | join: "," | split: "," | uniq %}
    <select id="filter-dropdown" aria-label="Filter projects by tag">
      <option value="all">All</option>
      {% for tag in all_tags %}
        <option value="{{ tag | downcase | replace: ' ', '-' }}">{{ tag | capitalize }}</option>
      {% endfor %}
    </select>
  </div>

  <!-- Project Grid -->
  <div class="project-grid">
    {% comment %}
      Use paginator.projects if available; otherwise, fall back to site.projects.
    {% endcomment %}
    {% assign projects_list = paginator.projects | default: site.projects %}
    {% if projects_list and projects_list.size > 0 %}
      {% for project in projects_list %}
        <div class="project-item" data-tags="{% for tag in project.tags %}{{ tag | downcase | replace: ' ', '-' }}{% if forloop.last == false %},{% endif %}{% endfor %}">
          {% if project.image %}
            <img src="{{ project.image | relative_url }}" alt="{{ project.title | escape }}">
          {% else %}
            <img src="/assets/images/default-project.png" alt="Default Project Image">
          {% endif %}
          <h3>
            <a href="{{ project.url | relative_url }}" aria-label="View details about {{ project.title }}">
              {{ project.title }}
            </a>
          </h3>
          <p>{{ project.description }}</p>
          {% if project.link %}
            <a href="{{ project.link }}" class="btn" target="_blank" rel="noopener" aria-label="Visit {{ project.title }}">
              View Project
            </a>
          {% endif %}
          {% if project.tags %}
            <ul class="tag-list">
              {% for tag in project.tags %}
                <li class="tag">{{ tag }}</li>
              {% endfor %}
            </ul>
          {% endif %}
        </div>
      {% endfor %}
    {% else %}
      <p>No projects found. Please try a different filter.</p>
    {% endif %}
  </div>

  <!-- Pagination (if available) -->
  {% if paginator and paginator.total_pages > 1 %}
    <nav class="pagination">
      <p>Page {{ paginator.page }} of {{ paginator.total_pages }}</p>
      {% if paginator.previous_page %}
        <a href="{{ paginator.previous_page_path | relative_url }}" class="btn" aria-label="Go to previous page">
          Previous
        </a>
      {% endif %}
      {% if paginator.next_page %}
        <a href="{{ paginator.next_page_path | relative_url }}" class="btn" aria-label="Go to next page">
          Next
        </a>
      {% endif %}
    </nav>
  {% endif %}
</section>

<!-- Include the filtering script -->
<script src="/assets/js/filter.js"></script>
