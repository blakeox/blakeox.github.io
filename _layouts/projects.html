---
layout: default
---

<section class="projects-list container" role="region" aria-labelledby="projects-title">
  <h1 id="projects-title">{{ page.title | replace: '&', '&amp;' }}</h1>
  <!-- Add a short intro paragraph -->
  <p class="projects-intro">
    Explore a curated collection of projects showcasing key skills in process automation, 
    finance, and more. Use the filters to narrow your interests.
  </p>

  <!-- Filtering Controls -->
  <div class="filter-controls" aria-live="polite">
    <div class="filter-dropdown-container">
      <label for="filter-dropdown">Filter projects:</label>
      <select id="filter-dropdown" class="btn secondary" aria-label="Filter projects by tag">
        <option value="all">All</option>
        {% assign all_tags = site.projects | map: "tags" | join: "," | split: "," | uniq %}
        {% for tag in all_tags %}
          <option value="{{ tag | downcase | replace: ' ', '-' }}">{{ tag | capitalize }}</option>
        {% endfor %}
      </select>
    </div>

    <!-- Sort By Dropdown -->
    <div class="sort-dropdown-container">
      <label for="sort-dropdown">Sort by:</label>
      <select id="sort-dropdown" class="btn secondary">
        <option value="title-asc">Title (A–Z)</option>
        <option value="title-desc">Title (Z–A)</option>
        <option value="date-desc">Newest First</option>
        <option value="date-asc">Oldest First</option>
      </select>
    </div>
  </div>

  <!-- Search Input -->
  <div class="search-input-container">
    <input type="text" id="search-input" class="btn secondary" placeholder="Search projects..." aria-label="Search projects">
  </div>

  <!-- Clear Filters Button -->
  <button id="clear-filters-btn" class="btn secondary" aria-label="Clear all filters">Clear Filters</button>

  <!-- Filter Loading Spinner -->
  <div id="filter-loading-spinner" class="spinner hidden" aria-hidden="true"></div>

  <!-- Project Grid -->
  <div class="project-grid" id="project-grid">
    {% assign projects_list = paginator.projects | default: site.projects %}
    {% if projects_list and projects_list.size > 0 %}
      {% for project in projects_list %}
        <div class="project-item" data-tags="{% for tag in project.tags %}{{ tag | downcase | replace: ' ', '-' }}{% if forloop.last == false %},{% endif %}{% endfor %}">
          {% if project.image %}
            <img src="{{ project.image | relative_url }}" alt="{{ project.title | escape }}" loading="lazy">
          {% else %}
            <img src="/assets/images/default-project.png" alt="Default Project Image">
          {% endif %}
          <h3>
            <a href="{{ project.url | relative_url }}" aria-label="View details about {{ project.title }}">
              {{ project.title }}
            </a>
          </h3>
          <p>{{ project.description }}</p>
          {% if project.link %}
            <a href="{{ project.link }}" class="btn" target="_blank" rel="noopener" aria-label="Visit {{ project.title }}">
              View Project
            </a>
          {% endif %}
          {% if project.tags %}
            <ul class="tag-list">
              {% for tag in project.tags %}
                <li class="tag">{{ tag }}</li>
              {% endfor %}
            </ul>
          {% endif %}
        </div>
      {% endfor %}
    {% else %}
      <p>No projects found. Please try a different filter.</p>
    {% endif %}
  </div>

  <!-- No results placeholder -->
  <div id="no-results" class="hidden">
    <p>No matching projects found.</p>
  </div>

  <!-- “Load More” Button with Spinner -->
  <div class="load-more-container">
    <button id="load-more-btn" class="btn" aria-label="Load more projects">Load More</button>
    <span id="load-more-spinner" class="spinner hidden"></span>
  </div>

  <!-- Pagination (if available) -->
  {% if paginator and paginator.total_pages > 1 %}
    <nav class="pagination">
      <p>Page {{ paginator.page }} of {{ paginator.total_pages }}</p>
      {% if paginator.previous_page %}
        <a href="{{ paginator.previous_page_path | relative_url }}" class="btn secondary" aria-label="Go to previous page">
          Previous
        </a>
      {% endif %}
      {% if paginator.next_page %}
        <a href="{{ paginator.next_page_path | relative_url }}" class="btn secondary" aria-label="Go to next page">
          Next
        </a>
      {% endif %}
    </nav>
  {% endif %}
</section>

<!-- Include the filtering script -->
<script src="/assets/js/filter.js"></script>
<script src="/assets/js/projects-filter.js"></script>
